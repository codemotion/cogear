<?php
/**
 * Lenth validator
 *
 * @author		Dmitriy Belyaev <admin@cogear.ru>
 * @copyright		Copyright (c) 2011, Dmitriy Belyaev
 * @license		http://cogear.ru/license.html
 * @link		http://cogear.ru
 * @package		Core
 * @subpackage	Form
 * @version		$Id$
 */
class Form_Validate_Length extends Form_Validate_Abstract{
	/**
	 * From
	 *
	 * @int
	 */
	private $from; 
	/**
	 * To
	 *
	 * @int
	 */
	private $to; 
	/**
	 * Constructor
	 */
	public function __construct($args = array()){
		if(isset($args[0]) && $args[0] > 0){
			$this->from = $args[0];
		}
		if(isset($args[1]) && $args[1] > 0){
			$this->to = $args[1];
		}
	} 
	
	/**
	 * Validate
	 *
	 * @return	boolean
	 */
	public function validate($value){
		$length = strlen($value);
		if($this->from && $this->to && ($length > $this->to OR $length < $this->from)){
			return $this->error(t('Value must be between %d and %d symbols length.','Form_Validate',$this->from,$this->to));
		}
		elseif($this->from && $length < $this->from){
			return $this->error(t('Value must be longer that %d.','Form_Validate',$this->from));
		}
		elseif($this->to && $length > $this->to){
			return $this->error(t('Value must be no longer that %d.','Form_Validate',$this->to));
		}
		return TRUE;
	} 
} 